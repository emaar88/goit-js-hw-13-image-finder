{"version":3,"sources":["webpack:///./apiService.js","webpack:///./index.js","webpack:///./templates/pixabay-photos.hbs"],"names":["page","query","fetchPhotos","requestParams","this","fetch","then","response","json","parsedResponce","incrementPage","hits","string","resetPage","searchForm","document","querySelector","galleryList","loadMore","toLoadPhotos","inputKeyword","value","classList","add","PNotify","info","text","delay","icon","requestPhotos","searchQuery","fetchPhotosForKeyword","photos","items","markup","pixabayPhotos","insertAdjacentHTML","remove","insertListPhotos","catch","err","console","warn","clearListItems","innerHTML","addEventListener","e","preventDefault","setTimeout","window","scrollTo","top","scrollY","behavior","keyCode","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","webformatURL","call","tags","likes","views","comments","downloads","stack1","each","program","noop"],"mappings":"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","file":"main.c606ed8dcc5b1ec57293.js","sourcesContent":["const basedURL = `https://pixabay.com/api/?image_type=photo&orientation=horizontal`;\r\nconst myKey = `15388993-afe6d4c7cebda1ca737d5f782`;\r\n\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n  fetchPhotos(query) {\r\n    const requestParams = `&q=${this.query}&page=${this.page}&per_page=12&key=`;\r\n    return fetch(basedURL + requestParams + myKey)\r\n      .then(response => response.json())\r\n      .then(parsedResponce => {\r\n        this.incrementPage();\r\n        return parsedResponce.hits;\r\n      });\r\n  },\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n\r\n//https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=что_искать&page=номер_страницы&per_page=12&key=твой_ключ\r\n","import './styles.css';\nimport requestPhotos from './apiService.js';\nimport debounce from 'lodash.debounce';\nimport pixabayPhotos from './templates/pixabay-photos.hbs';\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify.js';\n\nconst searchForm = document.querySelector('#search-form');\nconst galleryList = document.querySelector('#gallery-list');\nconst loadMore = document.querySelector('#load-more');\nconst findPhotos = document.querySelector('#findPhotosBtn');\n\nfindPhotos.addEventListener('click', searchFormInputHandler);\nloadMore.addEventListener('click', loadMoreBtnHandler);\nsearchForm.addEventListener('keydown', pressEnter);\n\nfunction searchFormInputHandler(e) {\n  e.preventDefault();\n  clearListItems();\n  requestPhotos.resetPage();\n  toLoadPhotos();\n}\n\nfunction pressEnter(e) {\n  if (e.keyCode == 13) {\n    e.preventDefault();\n    clearListItems();\n    requestPhotos.resetPage();\n    toLoadPhotos();\n  }\n}\n\nfunction toLoadPhotos() {\n  const inputKeyword = document.querySelector('#our_keyword');\n  if (inputKeyword.value === '') {\n    loadMore.classList.add('is-hidden');\n    PNotify.info({\n      text: 'Вы не ввели ключевое слово',\n      delay: 3000,\n      icon: true,\n    });\n    return;\n  }\n  if (inputKeyword.value !== '') {\n    requestPhotos.searchQuery = inputKeyword.value;\n    fetchPhotosForKeyword();\n  }\n}\n\nfunction loadMoreBtnHandler() {\n  fetchPhotosForKeyword();\n  setTimeout(() => {\n    window.scrollTo({\n      top: +window.scrollY + 1162,\n      behavior: 'smooth',\n    });\n  }, 500);\n}\n\nfunction fetchPhotosForKeyword() {\n  requestPhotos\n    .fetchPhotos()\n    .then(photos => {\n      insertListPhotos(photos);\n    })\n    .catch(err => console.warn(err));\n}\n\nfunction insertListPhotos(items) {\n  const markup = pixabayPhotos(items);\n  if (markup === '') {\n    loadMore.classList.add('is-hidden');\n    PNotify.info({\n      text: 'Совпадений не найдено. Попробуйте ввести другое ключевое слово',\n      delay: 3000,\n      icon: true,\n    });\n    return;\n  }\n  galleryList.insertAdjacentHTML('beforeend', markup);\n  loadMore.classList.remove('is-hidden');\n}\n\nfunction clearListItems() {\n  galleryList.innerHTML = '';\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"photo-card\\\">\\r\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":14},\"end\":{\"line\":3,\"column\":30}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = helpers.tags || (depth0 != null ? depth0.tags : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":45}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up\\r\\n            </i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":12},\"end\":{\"line\":12,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":12},\"end\":{\"line\":16,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comment</i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":12},\"end\":{\"line\":20,\"column\":24}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":12},\"end\":{\"line\":24,\"column\":25}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":28,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}